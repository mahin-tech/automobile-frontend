(this["webpackJsonpautomobile-frontend"]=this["webpackJsonpautomobile-frontend"]||[]).push([[0],{147:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(2),r=a.n(c),s=a(23),i=a.n(s),o=a(17),l=a(28),d=a(74),j=a(83),h={brands:[],data:[],userInfo:"",accessToken:""},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_BRAND":return Object.assign({},e,{brands:t.payload});case"EX_PRODUCT":return Object.assign({},e,{data:t.payload});case"DEL_ITEM":return{data:[]};case"DEL_PAR_ITEM":return{data:Object(j.a)(e.data.filter((function(e){return e!==t.payload})))};case"LOGIN_WITH_JWT":return Object.assign({},e,{userInfo:t.payload.userInfo,accessToken:t.payload.accessToken});case"LOGOUT":return h;default:return e}},b=Object(l.c)({brandReducer:u}),p=a(12),m=a(31),O=(a(93),function(){return Object(n.jsx)("header",{className:"header",children:Object(n.jsx)("div",{className:"content-container",children:Object(n.jsx)("div",{className:"header__content",children:Object(n.jsx)(m.a,{className:"header__title",to:"/",children:Object(n.jsx)("h1",{children:"Automobile"})})})})})}),x=(a(95),a(13)),f=a(14),g=a(16),v=a(15),y=a(148),N=a(149),I=a(150),k=a(151),w=a(152),D=a(153),C=a(154),T=a(76),P=a(155),S=a(156),_=a(157),R=a(158),L=a(160),M=a(19),E=Object(M.b)(),A=a(9),q=a.n(A),U=a(18),F=a(75),G=a.n(F);a(61).config();var W=G.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/automobile-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PUBLIC_PATH:"http://localhost:8000/upload/"}).API_URL||"http://localhost:8000/api/"}),z=function(){return function(){var e=Object(U.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({type:"DEL_ITEM"}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};a(61).config();var B={baseURL:"http://localhost:8000/upload/"},H=a(159),J=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).getLocation=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(n.getCoordinates,n.handleLocation):alert("hello")},n.handleLocation=function(e){switch(e.code){case e.PERMISSION_DENIED:alert("The Request For Geolocation is denied");break;case e.POSITION_UNAVAILABLE:alert("Showroom Location is not available.");break;case e.TIMEOUT:alert("user location was timed out.");break;case e.UNKNOWN_ERROR:alert("Unknown error access")}},n.getCoordinates=function(e){var t,a,c=e.coords.latitude,r=e.coords.longitude;n.props.dispatch((t=c,a=r,function(){var e=Object(U.a)(q.a.mark((function e(n){var c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.get("/location?lng=".concat(t,"&lat=").concat(a));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){var t=e.data;n.setState({data:t})}))},n.onSearchChange=function(e){var t;n.props.dispatch((t=e,function(){var e=Object(U.a)(q.a.mark((function e(a){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.get("/search/".concat(t));case 2:return(n=e.sent)&&a({type:"GET_BRAND",payload:n.data}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){var t=e.data.data.brandData;n.setState({rowData:t})}))},n.componentDidMount=function(){n.props.dispatch(function(){var e=Object(U.a)(q.a.mark((function e(t){var a;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.get("/brand");case 2:return(a=e.sent)&&t({type:"GET_BRAND",payload:a.data}),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){var t=e.data.data.brand;n.setState({rowData:t})})),n.getLocation()},n.state={latitude:"",longitude:"",rowData:[],searchData:[]},n}return Object(f.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsx)(y.a,{children:Object(n.jsx)(N.a,{sm:"12",children:Object(n.jsx)(I.a,{className:"pt-1",children:Object(n.jsx)(k.a,{children:Object(n.jsxs)(N.a,{sm:"12",children:[Object(n.jsx)(N.a,{sm:"12",md:{size:4,offset:4},style:{paddingTop:20},children:Object(n.jsxs)(w.a,{children:[Object(n.jsx)(D.a,{type:"text",id:"brand",placeholder:"Search showroom",onChange:function(t){return e.onSearchChange(t.target.value)}}),Object(n.jsx)("p",{children:this.state.searchLocation}),Object(n.jsx)(C.a,{addonType:"append",children:Object(n.jsx)(T.a,{children:"Search"})})]})}),Object(n.jsx)(y.a,{className:"pt-4",children:this.state.rowData&&this.state.rowData.length>0?this.state.rowData.map((function(e,t){return Object(n.jsx)(N.a,{lg:"4",sm:"12",children:Object(n.jsxs)(I.a,{body:!0,outline:!0,style:{borderColor:"#333"},className:"mt-4",onClick:function(){return E.push({pathname:"/package",state:{brandId:e?e._id:""}})},children:[Object(n.jsx)(P.a,{className:"justify-content-between",children:Object(n.jsxs)("div",{className:"card-heading",children:[Object(n.jsx)(S.a,{children:Object(n.jsx)("h6",{children:Object(n.jsx)("strong",{children:e.brandName})})}),Object(n.jsx)(_.a,{children:Object(n.jsxs)(R.a,{href:e.locationLink,children:[Object(n.jsx)(H.a,{size:"15"})," ","\xa0 Find Location"]})})]})}),Object(n.jsxs)(k.a,{children:[Object(n.jsx)(L.a,{variant:"bottom",src:B.baseURL+""+e.branchLogo}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{className:"justify-content-between",children:[Object(n.jsx)("i",{children:"Branch Name:\xa0\xa0"}),Object(n.jsx)("span",{className:"text-success",children:e.branchName}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("i",{children:"Location:\xa0\xa0"}),Object(n.jsx)("span",{className:"text-secondary",children:e.location}),Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),Object(n.jsx)("i",{children:"Contact:\xa0\xa0"}),Object(n.jsx)("span",{className:"text-info",children:e.contact})]})]})]})},t)})):"No showroom near found you!"})]})})})})})}}]),a}(r.a.Component),K=Object(o.b)((function(e){return{}}))(J),Q=a(24),V=a(172),X=a(168),Y=a(169),Z=a(171),$=a(161),ee=a(77),te=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).handleItem=function(e){n.setState({extraPrice:e.price},(function(){var e=+n.state.addItem.price+ +n.state.extraPrice;n.setState({total:e})}));var t=e.itemName;n.setState({name:t})},n.handleClick=function(){var e=n.state.total?n.state.total:n.state.addItem.price,t=n.state.addItem.productName+" Extra Item: "+n.state.name,a=n.state.addItem.quantity,c=n.state.addItem._id;n.props.handleChild(e,t,a,c)},n.state={formData:{},extraPrice:0,total:0,name:"",addItem:n.props.addItem},n}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.state.addItem,a=this.props.addExtraItem;return Object(n.jsx)(y.a,{children:Object(n.jsx)(N.a,{sm:"12",children:Object(n.jsxs)(I.a,{children:[Object(n.jsx)(P.a,{children:"Product Details"}),Object(n.jsx)(k.a,{className:"pt-2",children:Object(n.jsx)(N.a,{sm:"12",children:Object(n.jsxs)($.a,{size:"md",responsive:!0,bordered:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Product Name"}),Object(n.jsx)("th",{children:"Price"}),Object(n.jsx)("th",{children:"Quantity"})]})}),Object(n.jsx)("tbody",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:t.productName}),Object(n.jsxs)("td",{children:[t.price,"\xa0 INR"]}),Object(n.jsx)("td",{children:t.quantity})]})}),Object(n.jsx)("thead",{className:"pt-4",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Item Name"}),Object(n.jsx)("th",{children:"Price"}),Object(n.jsx)("th",{children:"Choose One"})]})}),a&&a.map((function(t,a){return Object(n.jsx)("tbody",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:t.itemName}),Object(n.jsxs)("td",{children:[t.price,"\xa0 INR"]}),Object(n.jsx)("td",{children:Object(n.jsx)(D.a,{className:"ml-3",type:"radio",name:"radio",onChange:function(){return e.handleItem(t)}})})]})},a)}))]})})}),Object(n.jsx)("div",{className:"invoice-total-table",children:Object(n.jsx)(y.a,{children:Object(n.jsx)(N.a,{sm:"12",children:Object(n.jsx)($.a,{responsive:!0,borderless:!0,children:Object(n.jsxs)("tbody",{children:[Object(n.jsx)("th",{className:"text-right",children:"Total"}),Object(n.jsx)("tr",{children:Object(n.jsx)("td",{children:Object(n.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(n.jsx)(ee.a,{className:"mr-1",color:"primary",type:"submit",onClick:function(){return e.handleClick()},children:"Add To Cart"}),this.state.total?this.state.total:this.state.addItem.price]})})})]})})})})})]})})})}}]),a}(r.a.Component),ae=Object(o.b)((function(e){return{}}))(te),ne=a(165),ce=a(166),re=a(167),se=a(32),ie=a(162),oe=a(163),le=a(164),de=a(78),je=a(79),he=a.n(je),ue=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).handleInput=function(e){e.persist(),n.setState((function(t){return{formData:Object(Q.a)(Object(Q.a)({},t.formData),{},Object(se.a)({},e.target.name,e.target.value))}}))},n.handleFormSubmit=function(){var e;n.props.dispatch((e=n.state.formData,function(t){W.post("/signin",{email:e.email,password:e.password}).then((function(e){var a=e.data.user;a?(t({type:"LOGIN_WITH_JWT",payload:{userInfo:a,accessToken:e.data.token}}),setTimeout((function(){E.push("/place")}),2e3)):console.log("user email does not exist")})).catch((function(e){console.log(e)}))}))},n.toggle=function(e){n.state.activeTab!==e&&n.setState({activeTab:e})},n.responseSuccessGoogle=function(e){var t={tokenId:e.tokenId};n.props.dispatch(function(e){var t={tokenId:e.tokenId};return function(e){W.post("/googlelogin",t).then((function(t){var a=t.data.user;a?(e({type:"LOGIN_WITH_JWT",payload:{userInfo:a,accessToken:t.data.token}}),setTimeout((function(){E.push("/place")}),2e3)):console.log("User email does not exist")})).catch((function(e){console.log(e)}))}}(t))},n.responseFacebook=function(e){var t={userID:e.userID,accessToken:e.accessToken};n.props.dispatch(function(e){var t={userID:e.userID,accessToken:e.accessToken};return function(e){W.post("/facebooklogin",t).then((function(t){var a=t.data.user;a?(e({type:"LOGIN_WITH_JWT",payload:{userInfo:a,accessToken:t.data.token}}),setTimeout((function(){E.push("/place")}),2e3)):console.log("User email does not exist")})).catch((function(e){console.log(e)}))}}(t))},n.state={formData:{},userInfo:n.props.userInfo},n}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.state.userInfo;return Object(n.jsx)(y.a,{className:"m-0 justify-content-center",children:Object(n.jsx)(N.a,{sm:"8",xl:"7",lg:"10",md:"8",className:"d-flex justify-content-center pt-4",children:t&&t?Object(n.jsx)(ie.a,{children:Object(n.jsxs)("div",{children:["You Already Logged Please"," ",Object(n.jsx)(m.b,{to:"/place",exact:!0,children:"Click Here"})]})}):Object(n.jsxs)(I.a,{className:"rounded-0 mb-0 px-2",children:[Object(n.jsx)(P.a,{children:"Login"}),Object(n.jsx)(k.a,{children:Object(n.jsx)(N.a,{sm:"12",children:Object(n.jsx)(oe.a,{onSubmit:function(t){t.preventDefault(),e.handleFormSubmit()},children:Object(n.jsxs)(y.a,{children:[Object(n.jsx)(N.a,{sm:"12",children:Object(n.jsxs)(ie.a,{children:[Object(n.jsx)(le.a,{children:"Email"}),Object(n.jsx)(D.a,{type:"email",placeholder:"Email",name:"email",onChange:this.handleInput})]})}),Object(n.jsx)(N.a,{sm:"12",children:Object(n.jsxs)(ie.a,{children:[Object(n.jsx)(le.a,{children:"Password"}),Object(n.jsx)(D.a,{type:"password",placeholder:"Password",name:"password",onChange:this.handleInput})]})}),Object(n.jsx)(N.a,{sm:"12",children:Object(n.jsx)(ie.a,{children:Object(n.jsx)(de.GoogleLogin,{className:"text-white bg-primary",clientId:"306922324712-u704i32658h1un3q1hotdn35i3dppo6h.apps.googleusercontent.com",buttonText:"Login with Google",onSuccess:this.responseSuccessGoogle,cookiePolicy:"single_host_origin"})})}),Object(n.jsxs)(N.a,{sm:"12",children:[Object(n.jsx)(ie.a,{className:"d-flex justify-content-between align-items-center",children:Object(n.jsx)(he.a,{className:"text-white bg-primary",appId:"3298788330231497",size:"small",callback:this.responseFacebook})}),Object(n.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(n.jsx)(ee.a,{color:"primary",outline:!0,onClick:function(){E.push("/register")},children:"Register"}),Object(n.jsx)(ee.a,{color:"primary",type:"submit",children:"Login"})]})]})]})})})})]})})})}}]),a}(r.a.Component),be=Object(o.b)((function(e){return{userInfo:e.brandReducer.userInfo}}))(ue),pe=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).handleInc=function(e,t){var a,c,r={productId:e._id,quantity:e.quantity,price:e.price};n.props.dispatch((a=e._id,c=r,function(){var e=Object(U.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.put("/edit/inc/product/".concat(a),c);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){var t=e.data.updateProduct;n.state.cart.map((function(e,a){if(e._id===t._id){n.state.cart.splice(a,1,t);var c=n.state.cart,r=c.reduce((function(e,t){return+e+ +t.price}),0);n.setState({total:r}),n.setState({cart:c})}}))}))},n.handleDec=function(e){n.setState((function(t){return{price:e.price,prevPrice:t.price}}),(function(){var t,a,c={productId:e._id,quantity:e.quantity,price:n.state.price};n.props.dispatch((t=e._id,a=c,function(){var e=Object(U.a)(q.a.mark((function e(n){var c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.put("/edit/dec/product/".concat(t),a);case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){var t=e.data.updateProduct;t.price=n.state.prevPrice,n.state.cart.map((function(e,a){if(e._id===t._id){n.state.cart.splice(a,1,t);var c=n.state.cart,r=c.reduce((function(e,t){return+e+ +t.price}),0);n.setState({total:r}),n.setState({cart:c})}}))}))}))},n.handleDel=function(e){var t;n.props.dispatch((t=e,function(){var e=Object(U.a)(q.a.mark((function e(a){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a({type:"DEL_PAR_ITEM",payload:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),window.location.reload()},n.handleRemove=function(e){e.preventDefault(),n.props.removeItem()},n.toggleModal=function(){n.setState((function(e){return{showModal:!e.showModal}}))},n.state={cart:n.props.addItem1,prevPrice:0,price:0,total:0,updateData:[],showModal:!1},n}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.state.cart,a=t&&t.reduce((function(e,t){return+e+ +t.price}),0);return Object(n.jsxs)(I.a,{children:[Object(n.jsx)(P.a,{children:Object(n.jsx)(S.a,{tag:"h5",children:"Order Summary"})}),Object(n.jsx)(k.a,{children:Object(n.jsxs)($.a,{bordered:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Remove Item"}),Object(n.jsx)("th",{children:"Product Name"}),Object(n.jsx)("th",{children:"Price"}),Object(n.jsx)("th",{children:"Quantity"}),Object(n.jsx)("th",{children:"Add"})]})}),this.state.cart.length>0?this.state.cart&&this.state.cart.map((function(t,a){return Object(n.jsx)("tbody",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("div",{className:"d-flex justify-content-start",children:Object(n.jsx)(ee.a,{className:"mr-1",color:"primary",type:"submit",onClick:function(){return e.handleDel(t)},children:Object(n.jsx)(ne.a,{size:15})})})}),Object(n.jsx)("td",{children:t.productName}),Object(n.jsxs)("td",{children:[" ",t.price," \xa0 INR"]}),Object(n.jsxs)("td",{children:[" ",t.quantity]}),Object(n.jsx)("td",{children:Object(n.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(n.jsx)(ee.a,{className:"mr-1",color:"primary",type:"submit",onClick:function(){return e.handleDec(t)},children:Object(n.jsx)(ce.a,{size:15})}),Object(n.jsx)(ee.a,{className:"mr-1",color:"primary",type:"submit",onClick:function(){return e.handleInc(t,a)},children:Object(n.jsx)(re.a,{size:15})})]})})]})},a)})):"No Products Found"]})}),Object(n.jsx)("div",{className:"invoice-total-table",children:Object(n.jsx)(y.a,{children:Object(n.jsx)(N.a,{sm:"12",children:Object(n.jsx)($.a,{responsive:!0,borderless:!0,children:Object(n.jsxs)("tbody",{children:[Object(n.jsx)("tr",{children:Object(n.jsx)("th",{className:"text-right",children:"Total"})}),Object(n.jsx)("tr",{children:Object(n.jsx)("td",{className:"text-right",children:this.state.total?this.state.total:a})}),Object(n.jsx)("tr",{children:Object(n.jsx)("td",{children:Object(n.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(n.jsx)(ee.a,{className:"mr-1",color:"primary",type:"submit",onClick:function(t){return e.handleRemove(t)},children:"Remove All"}),this.state.cart.length>0?Object(n.jsx)(ee.a,{className:"mr-1",color:"primary",type:"submit",onClick:function(){return e.toggleModal()},children:"Place Order"}):"No Place the order"]})})})]})})})})}),Object(n.jsxs)(V.a,{isOpen:this.state.showModal,toggle:this.toggleModal,className:"modal-dialog-centered modal-lg",children:[Object(n.jsx)(X.a,{toggle:this.toggleModal,className:"bg-primary",children:"Welcome back, please login to your account"}),Object(n.jsx)(Y.a,{children:Object(n.jsx)(be,{})})]})]})}}]),a}(r.a.Component),me=a(173),Oe=a(174),xe=a(175),fe=a(170),ge=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).handleitem=function(e,t){n.props.logout(),window.location.reload(),n.props.history.push(t)},n.state={userInfo:n.props.userInfo},n}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.state.userInfo;return Object(n.jsx)("div",{children:Object(n.jsx)("ul",{className:"nav nav-tabs bg-blue",children:t.name?Object(n.jsxs)(me.a,{children:[Object(n.jsx)(Oe.a,{tag:"a","data-toggle":"dropdown",className:"nav-link dropdown-user-link",children:Object(n.jsx)("div",{className:"user-nav d-sm-flex d-none",children:Object(n.jsxs)("span",{children:["Welcome,",Object(n.jsx)("strong",{style:{color:"black"},children:Object(n.jsx)("i",{children:t&&t.name?t.name:"loading..."})})]})})}),Object(n.jsx)(xe.a,{right:!0,children:Object(n.jsx)(fe.a,{onClick:function(t){return e.handleitem(t,"/")},children:Object(n.jsx)("span",{className:"align-bottom",children:"logout"})})})]}):Object(n.jsxs)(me.a,{children:[Object(n.jsx)(Oe.a,{tag:"a","data-toggle":"dropdown",className:"nav-link dropdown-user-link",children:Object(n.jsxs)("div",{className:"user-nav d-sm-flex d-none",children:[Object(n.jsxs)("span",{children:["First Name :"," ",Object(n.jsx)("strong",{style:{color:"black"},children:Object(n.jsx)("i",{children:t&&t.firstName?t.firstName:"loading..."})})]}),"\xa0",Object(n.jsxs)("span",{children:["Last Name :"," ",Object(n.jsx)("strong",{style:{color:"black"},children:t&&t.lastName?t.lastName:"loading..."})]})]})}),Object(n.jsx)(xe.a,{right:!0,children:Object(n.jsx)(fe.a,{onClick:function(t){return e.handleitem(t,"/")},children:Object(n.jsx)("span",{className:"align-bottom",children:"logout"})})})]})})})}}]),a}(c.Component),ve=Object(o.b)((function(e){return{userInfo:e.brandReducer.userInfo}}),(function(e){return{logout:function(){return e((function(e){e({type:"LOGOUT"}),E.push("/")}))},dispatch:e}}))(Object(p.f)(ge)),ye=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e;n.props.dispatch((e=n.state.brandId,function(){var t=Object(U.a)(q.a.mark((function t(a){var n;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.get("/package/".concat(e));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())).then((function(e){var t=e.data.data.package;n.setState({rowData:t})}))},n.toggleModal=function(e){n.state.rowData&&n.state.rowData.map((function(e){return n.setState({item:e.extraItemDetails})})),n.setState({comboItem:e}),n.setState((function(e){return{showModal:!e.showModal}}))},n.handleRemove=function(){n.props.dispatch(z),window.location.reload()},n.handleChild=function(e,t,a,c){var r,s={price:e,productName:t,quantity:a,_id:c},i=n.state.arr;i.push(Object(Q.a)(Object(Q.a)({},s),{},{count:1})),n.props.dispatch((r=i,function(){var e=Object(U.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"EX_PRODUCT",payload:r}),e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),n.setState({arr:i}),n.toggleModal()},n.state={brandId:n.props.location&&n.props.location.state&&n.props.location.state.brandId?n.props.location.state.brandId:"",rowData:[],showModal:!1,comboItem:[],item:[],arr:n.props.data1},n}return Object(f.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsxs)(y.a,{children:[Object(n.jsx)(N.a,{sm:"12",children:Object(n.jsx)(ve,{})}),Object(n.jsx)(N.a,{md:"6",sm:"12",children:this.state.rowData&&this.state.rowData.map((function(t,a){return Object(n.jsxs)(I.a,{style:{cursor:"pointer"},children:[Object(n.jsx)(S.a,{tag:"h3",children:t.packageName}),Object(n.jsxs)(P.a,{children:[t.productDetails&&t.productDetails.map((function(t,a){return Object(n.jsxs)("div",{children:[Object(n.jsxs)(S.a,{tag:"h6",onClick:function(){return e.toggleModal(t)},children:["Product Name: ",t.productName]}),Object(n.jsxs)(V.a,{isOpen:e.state.showModal,toggle:e.toggleModal,className:"modal-dialog-centered modal-lg",children:[Object(n.jsx)(X.a,{toggle:e.toggleModal,className:"bg-secondary",children:"Choose Items"}),Object(n.jsx)(Y.a,{children:Object(n.jsx)(ae,{toggleModal:e.toggleModal,addItem:e.state.comboItem,addExtraItem:e.state.item,handleChild:e.handleChild})})]})]},a)})),Object(n.jsxs)(Z.a,{className:"d-sm-flex d-block",children:[Object(n.jsx)(Z.a,{body:!0,className:"pt-3",children:Object(n.jsxs)("p",{children:[Object(n.jsx)("h6",{children:"Description:"}),Object(n.jsx)("i",{children:t.description})]})}),Object(n.jsx)(Z.a,{className:"mt-md-1 mt-0",children:Object(n.jsx)(Z.a,{className:"rounded mr-2",object:!0,src:B.baseURL+""+t.image,alt:"Generic placeholder image",height:"112",width:"112"})})]})]})]},a)}))}),Object(n.jsx)(N.a,{md:"6",sm:"12",children:Object(n.jsx)(pe,{addItem1:this.state.arr,dispatch:this.props.dispatch,removeItem:this.handleRemove})})]})}}]),a}(r.a.Component),Ne=Object(o.b)((function(e){return{data1:e.brandReducer.data}}))(ye),Ie=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).handleInput=function(e){e.persist(),n.setState((function(t){return{formData:Object(Q.a)(Object(Q.a)({},t.formData),{},Object(se.a)({},e.target.name,e.target.value))}}))},n.handleFormSubmit=function(){var e;n.props.dispatch((e=n.state.formData,function(){var t=Object(U.a)(q.a.mark((function t(a){var n,c;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password,pinCode:e.pinCode,address:e.address,mobile:e.mobile},t.next=3,W.post("create/users",n);case 3:return c=t.sent,t.abrupt("return",c);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())).then((function(e){e.data&&setTimeout((function(){E.push("/")}),3e3)})).catch((function(e){}))},n.state={roles:n.props.roles,erroMsg:!1,formData:{}},n}return Object(f.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsx)(y.a,{style:{height:"100vh",justifyContent:"center",alignItems:"center",backgroundRepeat:"no-repeat",backgroundSize:1500},children:Object(n.jsx)(N.a,{md:6,lg:4,children:Object(n.jsx)(I.a,{body:!0,style:{backgroundColor:"#c1c1c1"},children:Object(n.jsxs)(oe.a,{onSubmit:function(t){t.preventDefault(),e.handleFormSubmit()},children:[Object(n.jsxs)(y.a,{children:[Object(n.jsx)(N.a,{md:"6",sm:"12",children:Object(n.jsxs)(ie.a,{className:"form-label-group position-relative has-icon-left",children:[Object(n.jsx)(le.a,{children:"First Name"}),Object(n.jsx)("strong",{className:"text-danger",children:"*"}),Object(n.jsx)(D.a,{type:"text",required:!0,placeholder:"First Name",name:"firstName",onChange:this.handleInput})]})}),Object(n.jsx)(N.a,{md:"6",sm:"12",children:Object(n.jsxs)(ie.a,{className:"form-label-group position-relative has-icon-left",children:[Object(n.jsx)(le.a,{children:"Last Name"}),Object(n.jsx)("strong",{className:"text-danger",children:"*"}),Object(n.jsx)(D.a,{type:"text",required:!0,placeholder:"Last Name",name:"lastName",onChange:this.handleInput})]})}),Object(n.jsx)(N.a,{md:"6",sm:"12",children:Object(n.jsxs)(ie.a,{className:"form-label-group position-relative has-icon-left",children:[Object(n.jsx)(le.a,{children:"Email"}),Object(n.jsx)("strong",{className:"text-danger",children:"*"}),Object(n.jsx)(D.a,{type:"email",required:!0,placeholder:"Email",name:"email",onChange:this.handleInput})]})}),Object(n.jsx)(N.a,{md:"6",sm:"12",children:Object(n.jsxs)(ie.a,{className:"form-label-group position-relative has-icon-left",children:[Object(n.jsx)(le.a,{children:"Password"}),Object(n.jsx)("strong",{className:"text-danger",children:"*"}),Object(n.jsx)(D.a,{type:"password",required:!0,placeholder:"Password",name:"password",onChange:this.handleInput})]})}),Object(n.jsx)(N.a,{md:"6",sm:"12",children:Object(n.jsxs)(ie.a,{className:"form-label-group position-relative has-icon-left",children:[Object(n.jsx)(le.a,{children:"Pin-Code"}),Object(n.jsx)("strong",{className:"text-danger",children:"*"}),Object(n.jsx)(D.a,{type:"number",required:!0,placeholder:"Pin-Code",name:"pinCode",onChange:this.handleInput})]})}),Object(n.jsx)(N.a,{md:"6",sm:"12",children:Object(n.jsxs)(ie.a,{className:"form-label-group position-relative has-icon-left",children:[Object(n.jsx)(le.a,{children:"Mobile No."}),Object(n.jsx)("strong",{className:"text-danger",children:"*"}),Object(n.jsx)(D.a,{type:"number",required:!0,placeholder:"Mobile No.",name:"mobile",onChange:this.handleInput})]})}),Object(n.jsx)(N.a,{sm:"12",children:Object(n.jsxs)(ie.a,{className:"form-label-group position-relative has-icon-left",children:[Object(n.jsx)(le.a,{children:"Address"}),Object(n.jsx)(D.a,{type:"textarea",placeholder:"Address",name:"address",onChange:this.handleInput})]})})]}),Object(n.jsx)(ee.a,{className:"bg-dark border-0",block:!0,type:"submit",children:"Register"})]})})})})}}]),a}(r.a.Component),ke=Object(o.b)((function(e){return{}}))(Ie),we=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e=n.state.cartData,t=e&&e.reduce((function(e,t){return+e+ +t.price}),0);n.setState({total1:t}),n.props.cartTotal(t)},n.state={cartData:n.props.cartData,prevPrice:0,price:0,total:0,total1:0,updateData:[],showLeadModal:!1},n}return Object(f.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(I.a,{className:"mb-4",children:[Object(n.jsx)(P.a,{children:Object(n.jsx)(S.a,{tag:"h5",children:"Orders Details"})}),Object(n.jsx)(k.a,{children:Object(n.jsxs)($.a,{bordered:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Product Name"}),Object(n.jsx)("th",{children:"Price"}),Object(n.jsx)("th",{children:"Quantity"})]})}),this.state.cartData.length>0?this.state.cartData&&this.state.cartData.map((function(e,t){return Object(n.jsx)("tbody",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.productName}),Object(n.jsxs)("td",{children:[e.price,"\xa0 INR"]}),Object(n.jsx)("td",{children:e.quantity})]})},t)})):"No Products Found"]})}),Object(n.jsx)("div",{className:"invoice-total-table",children:Object(n.jsx)(y.a,{children:Object(n.jsx)(N.a,{sm:"12",children:Object(n.jsx)($.a,{responsive:!0,borderless:!0,children:Object(n.jsxs)("tbody",{children:[Object(n.jsx)("tr",{children:Object(n.jsx)("th",{className:"text-right",children:"Total"})}),Object(n.jsx)("tr",{children:Object(n.jsx)("td",{className:"text-right",children:this.state.total1})})]})})})})})]})}}]),a}(r.a.Component),De=a(82),Ce=a.n(De),Te=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){var e,t=n.state.userInfo._id;n.props.dispatch((e=t,function(){var t=Object(U.a)(q.a.mark((function t(a){var n;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.get("/payment/gettoken/".concat(e));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())).then((function(e){var t=e.data.clientToken;n.setState({clientToken:t})}))},n.onPurchase=function(){var e=n.state.userInfo._id;n.state.instance.requestPaymentMethod().then((function(t){var a=t.nonce,c={amount:n.props.cartPrice,paymentMethodNonce:a};n.props.dispatch(function(e,t){return function(){var a=Object(U.a)(q.a.mark((function a(n){var c,r;return q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c={amount:t.amount,paymentMethodNonce:t.paymentMethodNonce},a.next=3,W.post("/payment/braintree/".concat(e),c);case 3:return r=a.sent,a.abrupt("return",r);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}(e,c)).then((function(e){var t=e.data,a={transaction:t.transaction.id,status:t.transaction.status,amount:t.transaction.amount};n.props.data(a)}))}))},n.state={clientToken:null,instance:{},userInfo:n.props.userData},n}return Object(f.a)(a,[{key:"render",value:function(){var e=this;return Object(n.jsx)(y.a,{children:Object(n.jsx)(N.a,{sm:{size:11,offset:0},children:Object(n.jsxs)(I.a,{children:[Object(n.jsx)(P.a,{children:"Payment"}),Object(n.jsx)(k.a,{children:null!==this.state.clientToken?Object(n.jsxs)("div",{children:[Object(n.jsx)(Ce.a,{options:{authorization:this.state.clientToken},onInstance:function(t){return e.state.instance=t}}),Object(n.jsx)(ee.a,{className:"btn btn-block btn-primary",onClick:function(){return e.onPurchase()},children:"Buy"})]}):"loading.."})]})})})}}]),a}(r.a.Component),Pe=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(x.a)(this,a),(n=t.call(this,e)).cartTotal=function(e){n.setState({cartPrice:e})},n.paymentData=function(e){n.setState({paymentData:e})},n.state={userInfo:n.props.userInfo,cartPrice:0,paymentData:{}},n}return Object(f.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.userInfo,c=t.paymentData;return Object(n.jsxs)(y.a,{children:[Object(n.jsx)(N.a,{md:"6",sm:"12",children:Object(n.jsxs)(I.a,{children:[Object(n.jsx)(P.a,{children:Object(n.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(n.jsx)(S.a,{tag:"h2",children:"User Information"}),Object(n.jsx)("div",{className:"d-flex flex-wrap flot-right",children:Object(n.jsx)(ee.a,{className:"add-new-btn",color:"primary",onClick:function(){return e.props.history.push("/")},outline:!0,children:Object(n.jsx)("span",{className:"align-middle",children:"Back To Menu"})})})]})}),Object(n.jsx)(k.a,{children:a.name?Object(n.jsxs)(y.a,{children:[Object(n.jsx)(N.a,{sm:"12",children:Object(n.jsxs)(ie.a,{className:"form-label-group position-relative has-icon-left",children:[Object(n.jsx)(le.a,{children:"Name"}),Object(n.jsx)(D.a,{type:"text",name:"name",readOnly:!0,value:a&&a.name?a.name:"loading..."})]})}),Object(n.jsx)(N.a,{sm:"12",children:Object(n.jsxs)(ie.a,{className:"form-label-group position-relative has-icon-left",children:[Object(n.jsx)(le.a,{children:"E-mail"}),Object(n.jsx)(D.a,{type:"email",name:"email",readOnly:!0,value:a&&a.email?a.email:"loading..."})]})})]}):Object(n.jsxs)(y.a,{children:[Object(n.jsx)(N.a,{md:"6",sm:"12",children:Object(n.jsxs)(ie.a,{className:"form-label-group position-relative has-icon-left",children:[Object(n.jsx)(le.a,{children:"First Name"}),Object(n.jsx)(D.a,{type:"text",name:"firstName",readOnly:!0,value:a&&a.firstName?a.firstName:"loading..."})]})}),Object(n.jsx)(N.a,{md:"6",sm:"12",children:Object(n.jsxs)(ie.a,{className:"form-label-group position-relative has-icon-left",children:[Object(n.jsx)(le.a,{children:"Last Name"}),Object(n.jsx)(D.a,{type:"text",name:"lastName",readOnly:!0,value:a&&a.lastName?a.lastName:"loading..."})]})}),Object(n.jsx)(N.a,{md:"6",sm:"12",children:Object(n.jsxs)(ie.a,{className:"form-label-group position-relative has-icon-left",children:[Object(n.jsx)(le.a,{children:"E-mail"}),Object(n.jsx)(D.a,{type:"email",name:"email",readOnly:!0,value:a&&a.email?a.email:"loading..."})]})}),Object(n.jsx)(N.a,{md:"6",sm:"12",children:Object(n.jsxs)(ie.a,{className:"form-label-group position-relative has-icon-left",children:[Object(n.jsx)(le.a,{children:"PinCode"}),Object(n.jsx)(D.a,{type:"number",name:"pinCode",readOnly:!0,value:a&&a.pinCode?a.pinCode:"loading..."})]})}),Object(n.jsx)(N.a,{sm:"12",children:Object(n.jsxs)(ie.a,{className:"form-label-group position-relative has-icon-left",children:[Object(n.jsx)(le.a,{children:"Address"}),Object(n.jsx)(D.a,{type:"textarea",name:"address",readOnly:!0,value:a&&a.address?a.address:"loading..."})]})})]})})]})}),Object(n.jsx)(N.a,{md:"6",sm:"12",children:Object(n.jsx)(we,{cartData:this.props.cartItem,cartTotal:this.cartTotal})}),Object(n.jsx)(N.a,{md:"6",sm:"12",children:Object(n.jsx)(Te,{dispatch:this.props.dispatch,userData:a,data:this.paymentData,cartPrice:this.state.cartPrice})}),Object(n.jsx)(N.a,{md:"6",sm:"12",children:Object(n.jsxs)($.a,{bordered:!0,children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Transaction Id"}),Object(n.jsx)("th",{children:"Amount"}),Object(n.jsx)("th",{children:"Status"})]})}),Object(n.jsx)("tbody",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:c.transaction}),Object(n.jsxs)("td",{children:[c.amount,"\xa0 INR"]}),Object(n.jsx)("td",{children:c.status})]})})]})})]})}}]),a}(r.a.Component),Se=Object(o.b)((function(e){return{cartItem:e.brandReducer.data,userInfo:e.brandReducer.userInfo}}))(Pe),_e=Object(o.b)((function(e){return{userInfo:e.brandReducer.userInfo}}))((function(){return Object(n.jsx)("div",{children:Object(n.jsxs)(p.b,{history:E,children:[Object(n.jsx)(O,{}),Object(n.jsxs)(p.c,{children:[Object(n.jsx)(p.a,{path:"/",exact:!0,component:K}),Object(n.jsx)(p.a,{path:"/package",exact:!0,component:Ne}),Object(n.jsx)(p.a,{path:"/register",exact:!0,component:ke}),Object(n.jsx)(p.a,{path:"/place",exact:!0,component:Se})]})]})})})),Re=Object(l.d)(b,Object(l.a)(d.a));i.a.render(Object(n.jsx)(o.a,{store:Re,children:Object(n.jsx)(_e,{})}),document.querySelector("#root"))},93:function(e,t,a){}},[[147,1,2]]]);
//# sourceMappingURL=main.4d8a77b3.chunk.js.map