(this["webpackJsonpautomobile-frontend"]=this["webpackJsonpautomobile-frontend"]||[]).push([[0],{62:function(t,e,a){},91:function(t,e,a){"use strict";a.r(e);var c=a(2),r=a(1),n=a.n(r),s=a(14),i=a.n(s),o=a(17),d=a(21),j=a(49),l={brands:[]},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET_BRAND":return Object.assign({},t,{brands:e.payload});default:return t}},u=Object(d.c)({brandReducer:h}),b=a(7),p=a(29),O=(a(62),function(){return Object(c.jsx)("header",{className:"header",children:Object(c.jsx)("div",{className:"content-container",children:Object(c.jsx)("div",{className:"header__content",children:Object(c.jsx)(p.a,{className:"header__title",to:"/",children:Object(c.jsx)("h1",{children:"Automobile"})})})})})}),x=(a(64),a(15)),m=a(16),f=a(19),v=a(18),g=a(92),N=a(93),y=a(94),I=a(95),w=a(96),S=a(97),D=a(98),_=a(51),C=a(99),k=a(100),P=a(101),R=a(102),T=a(104),L=a(11),E=Object(L.b)(),A=a(10),M=a.n(A),U=a(20),q=a(50),B=a.n(q);a(43).config();var z=B.a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/automobile-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_PUBLIC_PATH:"http://localhost:8000/upload/"}).API_URL||"http://localhost:8000/api/"});a(43).config();var F={baseURL:"http://localhost:8000/upload/"},G=a(103),H=function(t){Object(f.a)(a,t);var e=Object(v.a)(a);function a(t){var c;return Object(x.a)(this,a),(c=e.call(this,t)).getLocation=function(){navigator.geolocation?navigator.geolocation.getCurrentPosition(c.getCoordinates,c.handleLocation):alert("hello")},c.handleLocation=function(t){switch(t.code){case t.PERMISSION_DENIED:alert("The Request For Geolocation is denied");break;case t.POSITION_UNAVAILABLE:alert("Showroom Location is not available.");break;case t.TIMEOUT:alert("user location was timed out.");break;case t.UNKNOWN_ERROR:alert("Unknown error access")}},c.getCoordinates=function(t){var e,a;t.coords.latitude,t.coords.longitude;c.props.dispatch((e=72.555338,a=23.049929,function(){var t=Object(U.a)(M.a.mark((function t(c){var r;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.get("/location?lng=".concat(e,"&lat=").concat(a));case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())).then((function(t){var e=t.data;c.setState({data:e})}))},c.onSearchChange=function(t){var e;c.props.dispatch((e=t,function(){var t=Object(U.a)(M.a.mark((function t(a){var c;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.get("/search/".concat(e));case 2:return(c=t.sent)&&a({type:"GET_BRAND",payload:c.data}),t.abrupt("return",c);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())).then((function(t){var e=t.data.data.brandData;c.setState({rowData:e})}))},c.componentDidMount=function(){c.props.dispatch(function(){var t=Object(U.a)(M.a.mark((function t(e){var a;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.get("/brand");case 2:return(a=t.sent)&&e({type:"GET_BRAND",payload:a.data}),t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(t){var e=t.data.data.brand;c.setState({rowData:e})})),c.getLocation()},c.state={latitude:"",longitude:"",rowData:[],searchData:[]},c}return Object(m.a)(a,[{key:"render",value:function(){var t=this;return Object(c.jsx)(g.a,{children:Object(c.jsx)(N.a,{sm:"12",children:Object(c.jsx)(y.a,{className:"pt-1",children:Object(c.jsx)(I.a,{children:Object(c.jsxs)(N.a,{sm:"12",children:[Object(c.jsx)(N.a,{sm:"12",md:{size:4,offset:4},style:{paddingTop:20},children:Object(c.jsxs)(w.a,{children:[Object(c.jsx)(S.a,{type:"text",id:"brand",placeholder:"Search showroom",onChange:function(e){return t.onSearchChange(e.target.value)}}),Object(c.jsx)("p",{children:this.state.searchLocation}),Object(c.jsx)(D.a,{addonType:"append",children:Object(c.jsx)(_.a,{children:"Search"})})]})}),Object(c.jsx)(g.a,{className:"pt-4",children:this.state.rowData&&this.state.rowData.length>0?this.state.rowData.map((function(t,e){return Object(c.jsx)(N.a,{lg:"4",sm:"12",children:Object(c.jsxs)(y.a,{body:!0,outline:!0,style:{borderColor:"#333"},className:"mt-4",onClick:function(){return E.push({pathname:"/package",state:{brandId:t?t._id:""}})},children:[Object(c.jsx)(C.a,{className:"justify-content-between",children:Object(c.jsxs)("div",{className:"card-heading",children:[Object(c.jsx)(k.a,{children:Object(c.jsx)("h6",{children:Object(c.jsx)("strong",{children:t.brandName})})}),Object(c.jsx)(P.a,{children:Object(c.jsxs)(R.a,{href:t.locationLink,children:[Object(c.jsx)(G.a,{size:"15"})," ","\xa0 Find Location"]})})]})}),Object(c.jsxs)(I.a,{children:[Object(c.jsx)(T.a,{variant:"bottom",src:F.baseURL+""+t.branchLogo}),Object(c.jsx)("hr",{}),Object(c.jsxs)("div",{className:"justify-content-between",children:[Object(c.jsx)("i",{children:"Branch Name:\xa0\xa0"}),Object(c.jsx)("span",{className:"text-success",children:t.branchName}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("i",{children:"Location:\xa0\xa0"}),Object(c.jsx)("span",{className:"text-secondary",children:t.location}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("i",{children:"Contact:\xa0\xa0"}),Object(c.jsx)("span",{className:"text-info",children:t.contact})]})]})]})},e)})):"No showroom near found you!"})]})})})})})}}]),a}(n.a.Component),K=Object(o.b)((function(t){return{}}))(H),W=a(33),J=a(112),Q=a(109),V=a(110),X=a(111),Y=a(105),Z=a(106),$=function(t){Object(f.a)(a,t);var e=Object(v.a)(a);function a(t){var c;return Object(x.a)(this,a),(c=e.call(this,t)).handleItem=function(t){c.setState({extraPrice:t.price},(function(){var t=+c.state.addItem.price+ +c.state.extraPrice;c.setState({total:t})}));var e=t.itemName;c.setState({name:e})},c.handleClick=function(){var t=c.state.total?c.state.total:c.state.addItem.price,e=c.state.addItem.productName+" Extra Item: "+c.state.name,a=c.state.addItem.quantity,r=c.state.addItem._id;c.props.handleChild(t,e,a,r)},c.handleFormSubmit=function(){},c.state={formData:{},extraPrice:0,total:0,name:"",addItem:c.props.addItem},c}return Object(m.a)(a,[{key:"render",value:function(){var t=this,e=this.state.addItem,a=this.props.addExtraItem;return Object(c.jsx)(g.a,{children:Object(c.jsx)(N.a,{sm:"12",children:Object(c.jsxs)(y.a,{children:[Object(c.jsx)(C.a,{children:"Product Details"}),Object(c.jsx)(I.a,{className:"pt-2",children:Object(c.jsx)(N.a,{sm:"12",children:Object(c.jsxs)(Y.a,{size:"md",responsive:!0,bordered:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Product Name"}),Object(c.jsx)("th",{children:"Price"}),Object(c.jsx)("th",{children:"Quantity"})]})}),Object(c.jsx)("tbody",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.productName}),Object(c.jsxs)("td",{children:[e.price,"\xa0 INR"]}),Object(c.jsx)("td",{children:e.quantity})]})}),Object(c.jsx)("thead",{className:"pt-4",children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Item Name"}),Object(c.jsx)("th",{children:"Price"}),Object(c.jsx)("th",{children:"Choose One"})]})}),a&&a.map((function(e,a){return Object(c.jsx)("tbody",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.itemName}),Object(c.jsxs)("td",{children:[e.price,"\xa0 INR"]}),Object(c.jsx)("td",{children:Object(c.jsx)(S.a,{className:"ml-3",type:"radio",name:"radio",onChange:function(){return t.handleItem(e)}})})]})},a)}))]})})}),Object(c.jsx)("div",{className:"invoice-total-table",children:Object(c.jsx)(g.a,{children:Object(c.jsx)(N.a,{sm:"12",children:Object(c.jsx)(Y.a,{responsive:!0,borderless:!0,children:Object(c.jsxs)("tbody",{children:[Object(c.jsx)("th",{className:"text-right",children:"Total"}),Object(c.jsx)("tr",{children:Object(c.jsx)("td",{children:Object(c.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(c.jsx)(Z.a,{className:"mr-1",color:"primary",type:"submit",onClick:function(){return t.handleClick},children:"Add To Cart"}),this.state.total?this.state.total:this.state.addItem.price]})})})]})})})})})]})})})}}]),a}(n.a.Component),tt=Object(o.b)((function(t){return{}}))($),et=a(107),at=a(108),ct=function(t){Object(f.a)(a,t);var e=Object(v.a)(a);function a(t){var c;return Object(x.a)(this,a),(c=e.call(this,t)).handleInc=function(t,e){var a,r,n={productId:t._id,quantity:t.quantity,price:t.price};c.props.dispatch((a=t._id,r=n,function(){var t=Object(U.a)(M.a.mark((function t(e){var c;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.put("/edit/inc/product/".concat(a),r);case 2:return c=t.sent,t.abrupt("return",c);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())).then((function(t){var e=t.data;c.state.cart.map((function(t,a){if(t._id===e._id){c.state.cart.splice(a,1,e);var r=c.state.cart,n=r.reduce((function(t,e){return+t+ +e.price}),0);c.setState({total:n}),c.setState({cart:r})}}))}))},c.handleDec=function(t){c.setState((function(e){return{price:t.price,prevPrice:e.price}}),(function(){var e,a,r={productId:t._id,quantity:t.quantity,price:c.state.price};c.props.dispatch((e=t._id,a=r,function(){var t=Object(U.a)(M.a.mark((function t(c){var r;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.put("/edit/dec/product/".concat(e),a);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())).then((function(t){var e=t.data;e.price=c.state.prevPrice,c.state.cart.map((function(t,a){if(t._id===e._id){c.state.cart.splice(a,1,e);var r=c.state.cart,n=r.reduce((function(t,e){return+t+ +e.price}),0);c.setState({total:n}),c.setState({cart:r})}}))}))}))},c.state={cart:c.props.addItem1,prevPrice:0,price:0,total:0,updateData:[]},c}return Object(m.a)(a,[{key:"render",value:function(){var t=this,e=this.state.cart.reduce((function(t,e){return+t+ +e.price}),0);return Object(c.jsxs)(y.a,{children:[Object(c.jsx)(C.a,{children:Object(c.jsx)(k.a,{tag:"h5",children:"Orders"})}),Object(c.jsx)(I.a,{children:Object(c.jsxs)(Y.a,{bordered:!0,children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"Product Name"}),Object(c.jsx)("th",{children:"Price"}),Object(c.jsx)("th",{children:"Quantity"}),Object(c.jsx)("th",{children:"Add"})]})}),this.state.cart.length>0?this.state.cart&&this.state.cart.map((function(e,a){return Object(c.jsx)("tbody",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.productName}),Object(c.jsxs)("td",{children:[" ",e.price," \xa0 INR"]}),Object(c.jsxs)("td",{children:[" ",e.quantity]}),Object(c.jsx)("td",{children:Object(c.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(c.jsx)(Z.a,{className:"mr-1",color:"primary",type:"submit",onClick:function(){return t.handleDec(e)},children:Object(c.jsx)(et.a,{size:15})}),Object(c.jsx)(Z.a,{className:"mr-1",color:"primary",type:"submit",onClick:function(){return t.handleInc(e,a)},children:Object(c.jsx)(at.a,{size:15})})]})})]})},a)})):"No Products Found"]})}),Object(c.jsx)("div",{className:"invoice-total-table",children:Object(c.jsx)(g.a,{children:Object(c.jsx)(N.a,{sm:{size:6,offset:6},children:Object(c.jsx)(Y.a,{responsive:!0,borderless:!0,children:Object(c.jsx)("tbody",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"TOTAL"}),Object(c.jsx)("td",{children:this.state.total?this.state.total:e})]})})})})})})]})}}]),a}(n.a.Component),rt=function(t){Object(f.a)(a,t);var e=Object(v.a)(a);function a(t){var c;return Object(x.a)(this,a),(c=e.call(this,t)).componentDidMount=function(){var t;c.props.dispatch((t=c.state.brandId,function(){var e=Object(U.a)(M.a.mark((function e(a){var c;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.get("/package/".concat(t));case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(t){var e=t.data.data.package;c.setState({rowData:e})}))},c.toggleModal=function(t){c.state.rowData&&c.state.rowData.map((function(t){return c.setState({item:t.extraItemDetails})})),c.setState({comboItem:t}),c.setState((function(t){return{showModal:!t.showModal}}))},c.handleChild=function(t,e,a,r){var n={price:t,productName:e,quantity:a,_id:r},s=c.state.arr;s.push(Object(W.a)(Object(W.a)({},n),{},{count:1})),c.setState({arr:s}),c.toggleModal()},c.state={brandId:c.props.location&&c.props.location.state&&c.props.location.state.brandId?c.props.location.state.brandId:"",rowData:[],showModal:!1,comboItem:[],item:[],arr:[]},c}return Object(m.a)(a,[{key:"render",value:function(){var t=this;return Object(c.jsxs)(g.a,{children:[Object(c.jsx)(N.a,{md:"6",sm:"12",children:this.state.rowData&&this.state.rowData.map((function(e,a){return Object(c.jsxs)(y.a,{style:{cursor:"pointer"},children:[Object(c.jsx)(k.a,{tag:"h3",children:e.packageName}),Object(c.jsxs)(C.a,{children:[e.productDetails&&e.productDetails.map((function(e,a){return Object(c.jsxs)("div",{children:[Object(c.jsxs)(k.a,{tag:"h6",onClick:t.toggleModal,children:["Product Name: ",e.productName]}),Object(c.jsxs)(J.a,{isOpen:t.state.showModal,toggle:t.toggleModal,className:"modal-dialog-centered modal-lg",children:[Object(c.jsx)(Q.a,{toggle:t.toggleModal,className:"bg-secondary",children:"Choose Items"}),Object(c.jsx)(V.a,{children:Object(c.jsx)(tt,{toggleModal:t.toggleModal,addItem:t.state.comboItem,addExtraItem:t.state.item,handleChild:t.handleChild})})]})]},a)})),Object(c.jsxs)(X.a,{className:"d-sm-flex d-block",children:[Object(c.jsx)(X.a,{body:!0,className:"pt-3",children:Object(c.jsxs)("p",{children:[Object(c.jsx)("h6",{children:"Description:"}),Object(c.jsx)("i",{children:e.description})]})}),Object(c.jsx)(X.a,{className:"mt-md-1 mt-0",children:Object(c.jsx)(X.a,{className:"rounded mr-2",object:!0,src:F.baseURL+""+e.image,alt:"Generic placeholder image",height:"112",width:"112"})})]})]})]},a)}))}),Object(c.jsx)(N.a,{md:"6",sm:"12",children:Object(c.jsx)(ct,{addItem1:this.state.arr,dispatch:this.props.dispatch})})]})}}]),a}(n.a.Component),nt=Object(o.b)((function(t){return{}}))(rt),st=function(){return Object(c.jsx)("div",{children:Object(c.jsxs)(b.b,{history:E,children:[Object(c.jsx)(O,{}),Object(c.jsxs)(b.c,{children:[Object(c.jsx)(b.a,{path:"/",exact:!0,component:K}),Object(c.jsx)(b.a,{path:"/package",exact:!0,component:nt})]})]})})},it=Object(d.d)(u,Object(d.a)(j.a));i.a.render(Object(c.jsx)(o.a,{store:it,children:Object(c.jsx)(st,{})}),document.querySelector("#root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.9c86ab48.chunk.js.map